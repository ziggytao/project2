# Project 2 项目说明文档

姓名：陶越 

学号：16307110469

## 项目完成情况

### 1 首页

登陆逻辑：未登录时右上角显示”sign in！“，登陆之后显示用户名，鼠标移动到用户名上会显示下拉菜单。

刷新逻辑：点击右下角刷新按钮会重新随机展示一组图片。

图片逻辑：从后端数据库中读取收藏最多的图片，显示为头图。图片展示区域从数据库中随机读取一组图片展示，点击图片会跳转到相应的详情页。

### 2 浏览页

#### 筛选

搜索标题筛选：在左侧输入标题可以筛选图片，采用模糊查询。

热门条目筛选：点击左侧热门条目可以实现筛选相应的热门主题、城市、国家。

多级筛选栏筛选：选择主题、国家、城市。主题、国家、城市均从数据库中读取。由于国家和城市的数量太多，所以只从数据库中读取人数大于5,000,000的国家供选择，选择国家之后，从数据库中读取该国家人数大于200,000的城市供选择。

#### 图片

图片实现了分页，每页2行，每行6张图片，页数最大为5页。点击页码可以跳转到相应页面，当前页码背景为黑色，前景为白色。点击“<<"和">>"会分别显示前一页和后一页。点击图片可以跳转到相应的图片详情页。

### 3 搜索页面

可以选择按标题或描述来搜索，采用模糊查询。搜索结果同样也分页，每页4张图片，最大页面数量也为5页。点击图片可以跳转到相应的图片详情页。

### 4 上传页面

可以上传图片，上传时需要填写标题和图片描述，并且选择content，country，city，这几项都为必填项。同时也可对已上传的图片进行修改。上传界面也是点击【myphoto】==> 【modify】所进入的界面，此时表单中的信息会填充为图片的信息，最下方会显示Update按钮。

### 5 我的照片

可以显示用户的照片，点击modify可以跳转到上传页面，同时填充原本的照片信息用来方便用户进行修改。点击delete按钮，会在travelimage中删除图片，也在travelimagefavor中删除所有ImageID与该图片ImageID相同的行，最后会把图片文件移到	`img/normal/trash`文件夹。点击图片可以跳转到相应的图片详情页。照片展示实现了分页，每页3张图片。

### 6 我的收藏

可以显示用户收藏的照片，点击delete按钮，会在travelimagefavor中删除ImageID与该图片ImageID相同且UID与用户UID相同的行。点击图片可以跳转到相应的图片详情页。收藏的照片展示实现了分页，每页3张图片。

### 7 登陆页面

可以输入用户名和密码登陆，用户名和密码错误时会显示错误信息，点击下方链接会跳转到注册页面。

### 8 注册页面

通过用户名、邮箱、密码进行注册，需要确认密码，验证相同后才可以注册。

合法性检验：用户名只能包含英文、数字、字母和下划线，长度为5-18个字符；密码必须至少由数字,大写字母,小写字母其中两种组成，且长度不小于6，同时第一位不能为数字；确认密码必须与密码相同。

### 9 详细图片页面

展示图片信息。在登陆之后，点击like可以进行收藏。若用户已经收藏该图片，爱心会变成红色背景，并且按钮的文字变成“liked”，此时点击就会取消收藏。未登陆时无法收藏，并会给出提示。

## Bonus的完成情况

未完成bonus。

## 对PJ 2和本门课程的意见和建议

PJ 2在PJ 1的基础上增加了一个后端，在lab中做过的一些题目也运用到了PJ 2中，让我的这个旅游图片分享网站更完善了。PJ 2是一个很能锻炼编程能力、debug能力、搜索能力的作业，对我来说还是很有意义的，做出来也很有成就感。

Web应用基础这门课程内容还是比较丰富的，涵盖了前端和后端的不少东西。HTML，CSS，JavaScript，PHP是这门课主要讲解的语言，一学期学下来也学到了很多的东西。老师给的参考资料也很丰富、详细，助教每周布置的lab也与课程紧密相连，可以很好地帮我们掌握课上学的知识。